<div class="container">
  <h2>User Data</h2>
  <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm.value)" novalidate>
    <!--Name-->
    <div class="form-group">
      <label>Name</label>
      <input type="text" #nameRef="ngModel" required minlength="4" class="form-control" name="name" [ngModel]="name" >
      <b>{{nameRef.className}}</b>
      <div *ngIf="nameRef.errors && (nameRef.dirty || nameRef.touched)" class="alert alert-danger">
        <div [hidden]="!nameRef.errors.required">
          Name cannot be blank
        </div>
        <div [hidden]="!nameRef.errors.minlength">
          Name should contain at least 4 characters
        </div>
      </div>
    </div>

    <!--Email-->
    <div class="form-group">
      <label>Email</label>
      <input type="text"  #emailRef required class="form-control" name="email" [ngModel]="email">
      <b>{{emailRef.className}}</b>
      <div [hidden]="emailRef.valid || emailRef.pristine" class="alert alert-danger">
        Email cannot be blank
      </div>
    </div>

    <!--Address Group-->
    <div ngModelGroup="address">
      <!--Street-->
      <div class="form-group">
        <label>Street</label>
        <input type="text" class="form-control" name="street" ngModel>
      </div>

      <!--City-->
      <div class="form-group">
        <label>City</label>
        <input type="text" class="form-control" name="city" ngModel>
      </div>

      <!--Postal Code-->
      <div class="form-group">
        <label>Postal Code</label>
        <input type="text" #postalcodeRef pattern="^[1-9][0-9]{4}$" class="form-control" name="postalCode" ngModel>
        <div *ngIf="postalcodeRef.errors && (postalcodeRef.dirty || postalcodeRef.touched)" class="alert alert-danger">
          <div [hidden]="!postalcodeRef.errors.pattern">
            Postal Code should contain exactly 5 numbers
          </div>
        </div>
      </div>
    </div>
    <button [disabled]="!userForm.form.valid" type="submit" class="btn btn-primary">Submit</button>

  </form>
</div>
